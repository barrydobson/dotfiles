{{- $taps := list -}}
{{- $brews := list -}}
{{- $casks := list -}}

{{- $taps = list
"homebrew/autoupdate"
"homebrew/bundle"
"homebrew/cask-fonts"
"homebrew/cask-versions"
"homebrew/command-not-found"
"robusta-dev/homebrew-krr"
-}}


{{- $brews = splitList " " (includeTemplate "darwin/packages" .) }}

{{- $casks = list
"font-fira-code"
"font-sauce-code-pro-nerd-font"
"google-chrome"
"hammerspoon"
"iterm2"
"spotify"
"visual-studio-code"
"veracrypt"
-}}


{{- range ($taps | sortAlpha | uniq) }}
tap "{{ . }}"
{{- end }}

{{- if not .host.restricted }}
tap "gromgit/fuse"
cask "macfuse"
{{- end }}

{{ range ($brews | sortAlpha | uniq) }}
brew "{{ . }}"
{{- end }}

{{- if not .host.headless -}}
{{- range ($casks | sortAlpha | uniq) }}
cask "{{ . }}"
{{- end }}
mas "Bitwarden", id: 1352778147
mas "Slack", id: 803453959
{{- end -}}
